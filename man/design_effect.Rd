% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/design_effect.R
\name{design_effect}
\alias{design_effect}
\alias{design_effect.numeric}
\alias{design_effect.default}
\title{Design Effect}
\usage{
design_effect(x = NULL, ...)

\method{design_effect}{numeric}(
  x,
  ...,
  y = NULL,
  x_cal = NULL,
  p = NULL,
  strvar = NULL,
  clvar = NULL,
  stages = NULL,
  method = "kish"
)

\method{design_effect}{default}(x = NULL, ..., delta = NULL, m = NULL, method = "cluster")
}
\arguments{
\item{x}{A numeric vector of survey weights (for diagnostic methods),
or \code{NULL} (for the \code{"cluster"} planning method).}

\item{...}{Additional arguments passed to methods.}

\item{y}{Outcome variable (required for \code{"henry"}, \code{"spencer"}, \code{"cr"}).}

\item{x_cal}{Calibration covariate (required for \code{"henry"}).}

\item{p}{1-draw selection probabilities (required for \code{"spencer"}).}

\item{strvar}{Stratum IDs (required for \code{"cr"}).}

\item{clvar}{Cluster IDs (required for \code{"cr"}).}

\item{stages}{Integer vector of stages per stratum (required for \code{"cr"}).}

\item{method}{For numeric weights: one of \code{"kish"} (default), \code{"henry"},
\code{"spencer"}, or \code{"cr"}. For planning (no weights): \code{"cluster"}
(default and only option).}

\item{delta}{ICC / homogeneity measure, scalar or \code{svyplan_varcomp}
(extracts \code{delta[1]}).}

\item{m}{Mean cluster size (scalar).}
}
\value{
For \code{"kish"}, \code{"cluster"}, \code{"henry"}, \code{"spencer"}: a numeric
scalar. For \code{"cr"}: a list with \verb{$strata} (data frame) and
\verb{$overall} (numeric scalar).
}
\description{
Estimate the design effect using various methods. This is an S3 generic
that dispatches on the class of \code{x}.
}
\section{Methods (by class)}{
\itemize{
\item \code{design_effect(numeric)}: Method for numeric weights vector.

\item \code{design_effect(default)}: Planning method (no weights needed).

}}
\examples{
# Kish design effect from weights
w <- runif(100, 1, 5)
design_effect(w, method = "kish")

# Planning: cluster design effect
design_effect(delta = 0.05, m = 25, method = "cluster")

}
\references{
Kish, L. (1965). \emph{Survey Sampling}. Wiley.

Henry, K. A. and Valliant, R. (2015). A design effect measure
for calibration weighting in single-stage samples. \emph{Survey
Methodology}, 41(2), 315--331.

Spencer, B. D. (2000). An approximate design effect for unequal
weighting when measurements may correlate with selection
probabilities. \emph{Survey Methodology}, 26(2), 137--138.

Chen, S. and Rust, K. (2017). An extension of Kish's formula
for design effects to two- and three-stage designs with
stratification. \emph{Journal of Survey Statistics and Methodology},
5(2), 111--130.
}
\seealso{
\code{\link[=effective_n]{effective_n()}} for effective sample size, \code{\link[=varcomp]{varcomp()}} for
estimating inputs to the \code{"cluster"} method.
}
