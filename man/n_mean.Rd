% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/n_mean.R
\name{n_mean}
\alias{n_mean}
\alias{n_mean.default}
\alias{n_mean.svyplan_prec}
\title{Sample Size for a Mean}
\usage{
n_mean(var, ...)

\method{n_mean}{default}(
  var,
  mu = NULL,
  moe = NULL,
  cv = NULL,
  alpha = 0.05,
  N = Inf,
  deff = 1,
  resp_rate = 1,
  ...
)

\method{n_mean}{svyplan_prec}(var, moe = NULL, cv = NULL, ...)
}
\arguments{
\item{var}{For the default method: population variance \eqn{S^2}.
For \code{svyplan_prec} objects: a precision result from \code{\link[=prec_mean]{prec_mean()}}.}

\item{...}{Additional arguments passed to methods.}

\item{mu}{Population mean magnitude (positive). Required when \code{cv} is specified.}

\item{moe}{Desired margin of error. Specify exactly one of \code{moe} or \code{cv}.}

\item{cv}{Target coefficient of variation. Specify exactly one of \code{moe}
or \code{cv}.}

\item{alpha}{Significance level, default 0.05.}

\item{N}{Population size. \code{Inf} (default) means no finite population
correction.}

\item{deff}{Design effect multiplier (> 0). Values < 1 are valid for
efficient designs (e.g., stratified sampling with Neyman allocation).}

\item{resp_rate}{Expected response rate, in (0, 1]. Default 1 (no
adjustment). The sample size is inflated by \code{1 / resp_rate}.}
}
\value{
A \code{svyplan_n} object.
}
\description{
Compute the required sample size for estimating a population mean
with a specified margin of error or coefficient of variation.
}
\details{
Two modes:
\itemize{
\item \strong{MOE mode}: \code{n = z^2 * var / (moe^2 + z^2 * var / N)}, then
multiplied by \code{deff}.
\item \strong{CV mode}: Computes \code{CVpop = sqrt(var) / mu}, then
\code{n = CVpop^2 / (cv^2 + CVpop^2 / N)}, multiplied by \code{deff}.
}

The FPC is the standard Cochran (1977) one-step form. Unlike \code{\link[=n_prop]{n_prop()}},
no \code{N/(N-1)} adjustment is needed because \code{var} is already defined on
\code{N-1} degrees of freedom.

All methods use the normal (z) quantile. This is standard for survey
sampling where the sample size is large enough for the CLT to apply.
}
\examples{
# MOE mode
n_mean(var = 100, moe = 2)

# CV mode
n_mean(var = 100, mu = 50, cv = 0.05)

# With FPC, design effect, and response rate
n_mean(var = 100, moe = 2, N = 5000, deff = 1.5, resp_rate = 0.8)

}
\references{
Cochran, W. G. (1977). \emph{Sampling Techniques} (3rd ed.). Wiley.

Valliant, R., Dever, J. A., and Kreuter, F. (2018).
\emph{Practical Tools for Designing and Weighting Survey Samples}
(2nd ed.). Springer.
}
\seealso{
\code{\link[=n_prop]{n_prop()}} for proportions, \code{\link[=n_cluster]{n_cluster()}} for multistage designs,
\code{\link[=n_multi]{n_multi()}} for multiple indicators, \code{\link[=prec_mean]{prec_mean()}} for the inverse.
}
