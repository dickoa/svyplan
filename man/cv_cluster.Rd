% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/cv_cluster.R
\name{cv_cluster}
\alias{cv_cluster}
\title{CV for a Multistage Cluster Allocation}
\usage{
cv_cluster(n, delta, rel_var = 1, k = 1)
}
\arguments{
\item{n}{Numeric vector of per-stage sample sizes: \code{c(n1, n2)} for
2-stage or \code{c(n1, n2, n3)} for 3-stage.}

\item{delta}{Numeric vector of homogeneity measures (length = stages - 1),
or a \code{svyplan_varcomp} object.}

\item{rel_var}{Unit relvariance (default 1).}

\item{k}{Ratio parameter(s). Scalar for 2-stage, length-2 vector for
3-stage (default 1).}
}
\value{
A numeric scalar: the coefficient of variation.
}
\description{
Compute the coefficient of variation for a given multistage sample
allocation. This is the inverse of \code{\link[=n_cluster]{n_cluster()}}.
}
\details{
Stage count is determined by \code{length(n)}.

\strong{2-stage} (Valliant et al., 2018, Eq. 9.2.23):
\deqn{CV = \sqrt{\frac{V \cdot k}{n_1 \cdot n_2} (1 + \delta (n_2 - 1))}}

\strong{3-stage}:
\deqn{CV = \sqrt{\frac{V}{n_1 \cdot n_2 \cdot n_3} (k_1 \delta_1 n_2 n_3
  + k_2 (1 + \delta_2 (n_3 - 1)))}}
}
\examples{
cv_cluster(n = c(50, 12), delta = 0.05)
cv_cluster(n = c(50, 12, 8), delta = c(0.01, 0.05))

}
\references{
Valliant, R., Dever, J. A., and Kreuter, F. (2018).
\emph{Practical Tools for Designing and Weighting Survey Samples}
(2nd ed.). Springer. Ch. 9.
}
\seealso{
\code{\link[=n_cluster]{n_cluster()}} for the inverse operation, \code{\link[=varcomp]{varcomp()}} for
estimating variance components.
}
